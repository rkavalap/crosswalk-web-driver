From 856825afdcd4eefd5c36655f7fdfc2373f15a12b Mon Sep 17 00:00:00 2001
From: rkavalap <rkavalap@users.noreply.github.com>
Date: Wed, 13 Apr 2016 00:49:33 -0700
Subject: [PATCH] Upstream fixes in chromium repository for xwalkwebdriver to
 compile

---
 net/cert/cert_database_mac.cc            | 2 ++
 ui/base/cocoa/nsview_additions.mm        | 4 ++--
 ui/events/test/cocoa_test_event_utils.mm | 2 +-
 ui/gfx/image/image_mac.mm                | 2 +-
 ui/snapshot/snapshot_mac.mm              | 2 +-
 5 files changed, 7 insertions(+), 5 deletions(-)

diff --git a/net/cert/cert_database_mac.cc b/net/cert/cert_database_mac.cc
index 037558c..4cb66f5 100644
--- a/net/cert/cert_database_mac.cc
+++ b/net/cert/cert_database_mac.cc
@@ -106,6 +106,8 @@ OSStatus CertDatabase::Notifier::KeychainCallback(
     case kSecTrustSettingsChangedEvent:
       that->cert_db_->NotifyObserversOfCACertChanged(NULL);
       break;
+	default:
+	  break;
   }
 
   return errSecSuccess;
diff --git a/ui/base/cocoa/nsview_additions.mm b/ui/base/cocoa/nsview_additions.mm
index 1bfd3a5..250965c 100644
--- a/ui/base/cocoa/nsview_additions.mm
+++ b/ui/base/cocoa/nsview_additions.mm
@@ -27,10 +27,10 @@
   NSArray* subviews = [[self superview] subviews];
 
   NSUInteger selfIndex = [subviews indexOfObject:self];
-  DCHECK_NE(NSNotFound, selfIndex);
+  DCHECK(NSNotFound != selfIndex);
 
   NSUInteger otherIndex = [subviews indexOfObject:otherView];
-  DCHECK_NE(NSNotFound, otherIndex);
+  DCHECK(NSNotFound != otherIndex);
 
   return selfIndex < otherIndex;
 }
diff --git a/ui/events/test/cocoa_test_event_utils.mm b/ui/events/test/cocoa_test_event_utils.mm
index 870d930..72b2984 100644
--- a/ui/events/test/cocoa_test_event_utils.mm
+++ b/ui/events/test/cocoa_test_event_utils.mm
@@ -52,7 +52,7 @@ NSEvent* MouseEventAtPoint(NSPoint point, NSEventType type,
                                                   kCGMouseButtonCenter);
     // Also specify the modifiers for the middle click case. This makes this
     // test resilient to external modifiers being pressed.
-    CGEventSetFlags(cg_event, modifiers);
+    CGEventSetFlags(cg_event, static_cast<CGEventFlags>(modifiers));
     NSEvent* event = [NSEvent eventWithCGEvent:cg_event];
     CFRelease(cg_event);
     return event;
diff --git a/ui/gfx/image/image_mac.mm b/ui/gfx/image/image_mac.mm
index 6c9e621..42fcb6b 100644
--- a/ui/gfx/image/image_mac.mm
+++ b/ui/gfx/image/image_mac.mm
@@ -39,7 +39,7 @@ scoped_refptr<base::RefCountedMemory> Get1xPNGBytesFromNSImage(
   base::scoped_nsobject<NSBitmapImageRep> ns_bitmap(
       [[NSBitmapImageRep alloc] initWithCGImage:cg_image]);
   NSData* ns_data = [ns_bitmap representationUsingType:NSPNGFileType
-                                            properties:nil];
+                                            properties:@{}];
   const unsigned char* bytes =
       static_cast<const unsigned char*>([ns_data bytes]);
   scoped_refptr<base::RefCountedBytes> refcounted_bytes(
diff --git a/ui/snapshot/snapshot_mac.mm b/ui/snapshot/snapshot_mac.mm
index 1a3116a..aa4048e 100644
--- a/ui/snapshot/snapshot_mac.mm
+++ b/ui/snapshot/snapshot_mac.mm
@@ -54,7 +54,7 @@ bool GrabViewSnapshot(gfx::NativeView view,
 
   base::scoped_nsobject<NSBitmapImageRep> rep(
       [[NSBitmapImageRep alloc] initWithCGImage:windowSnapshot]);
-  NSData* data = [rep representationUsingType:NSPNGFileType properties:nil];
+  NSData* data = [rep representationUsingType:NSPNGFileType properties:@{}];
   const unsigned char* buf = static_cast<const unsigned char*>([data bytes]);
   NSUInteger length = [data length];
   if (buf == NULL || length == 0)
-- 
2.6.4 (Apple Git-63)

